{"version":3,"sources":["Components/Common/FormControls/FormControls.jsx","Components/Common/FormControls/FormControls.module.css","Utils/Validators/Validators.js","Components/Content/Login/Login.module.css","Components/Content/Login/Login.jsx","Components/Content/Login/index.jsx"],"names":["FormControl","input","meta","props","child","hasError","touched","error","className","style","formControl","children","Textarea","restProps","Input","createField","placeholder","name","validators","component","text","validate","module","exports","required","value","undefined","maxlengthCreator","maxLength","length","minlengthCreator","minLength","maxlength20","minlength5","LoginReduxForm","reduxForm","form","useEffect","document","title","onSubmit","handleSubmit","Field","type","checkbox","captchaURL","src","alt","formError","connect","state","auth","isAuth","login","to","formData","email","password","rememberMe","captcha","Login"],"mappings":"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","file":"static/js/7.6af01982.chunk.js","sourcesContent":["import React from 'react';\r\nimport style from './FormControls.module.css';\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nconst FormControl = ({input, meta, child, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return(\r\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            { hasError && <span>{meta.error}</span> }\r\n        </div>\r\n    )\r\n};\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n};\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder}\r\n               name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__3bFR-\",\"error\":\"FormControls_error__2NiQv\"};","export const required = (value) => {\r\n    return (value ? undefined : 'Field is required')\r\n};\r\nexport const maxlengthCreator = (maxLength) => (value) => {\r\n    if (!value) {value = ''}\r\n    return ( value.length < maxLength ? undefined : `Max length is ${maxLength}`)\r\n};\r\nexport const minlengthCreator = (minLength) => (value) => {\r\n    if (!value) {value = ''}\r\n    return ( value.length > minLength ? undefined : `Min length is ${minLength}`)\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__3K_p1\",\"input\":\"Login_input__30DkR\",\"checkbox\":\"Login_checkbox__1Er47\",\"formError\":\"Login_formError__3lKR5\"};","import React, {useEffect} from 'react';\r\nimport style from './Login.module.css';\r\nimport {reduxForm, Field} from \"redux-form/\";\r\nimport {Input} from \"../../Common/FormControls/FormControls\";\r\nimport {maxlengthCreator, minlengthCreator,  required} from \"../../../Utils/Validators/Validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {login} from \"../../../Redux/AuthReducer\";\r\n\r\nconst maxlength20 = maxlengthCreator(20);\r\nconst minlength5 = minlengthCreator(5);\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    useEffect(() => {\r\n        document.title = `Login`;\r\n    });\r\n\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={style.input}>\r\n                <Field\r\n                    component={Input}\r\n                    validate={[required, maxlength20, minlength5]}\r\n                    name='email'\r\n                    placeholder='email'/>\r\n            </div>\r\n            <div className={style.input}>\r\n                <Field\r\n                    component={Input}\r\n                    validate={[required, minlength5, maxlength20]}\r\n                    name='password'\r\n                    type='password'\r\n                    placeholder='password'/>\r\n            </div>\r\n\r\n            <div className={style.checkbox}>\r\n                <p>Remember me</p>\r\n                <Field component={\"input\"} name={'rememberMe'} type={\"checkbox\"}/>\r\n            </div>\r\n            <div>\r\n                {props.captchaURL && <img src={props.captchaURL} alt=\"ups! :(\"/>}\r\n                {props.captchaURL &&\r\n                <Field\r\n                    component={Input}\r\n                    validate={[required]}\r\n                    name='captcha'\r\n                    placeholder='captcha'\r\n                />}\r\n            </div>\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n            { props.error ? <div className={style.formError}> {props.error }</div> : ''}\r\n\r\n        </form>\r\n    )\r\n};\r\n\r\nlet LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst LoginPage = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    };\r\n\r\n    return (\r\n        props.isAuth ? <Redirect to={'profile/'}/> :\r\n            <div className={style.login}>\r\n                <h1>Login</h1>\r\n                <LoginReduxForm onSubmit={onSubmit} captchaURL={props.captchaURL}/>\r\n            </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaURL: state.auth.captchaURL,\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default connect (mapStateToProps, {login} )(LoginPage);\r\n\r\n\r\n","import Login from './Login';\r\nexport default Login;"],"sourceRoot":""}