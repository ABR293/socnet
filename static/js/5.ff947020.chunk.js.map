{"version":3,"sources":["img/NA5.jpg","Components/Common/FormControls/FormControls.jsx","Components/Common/FormControls/FormControls.module.css","Utils/Validators/Validators.js","hoc/withAuthRedirect.jsx","Components/Content/Dialogs/Dialogs.module.css","Components/Content/Dialogs/Contact/Contact.module.css","Components/Content/Dialogs/Messages/Message/Message.module.css","Components/Content/Dialogs/Contact/index.jsx","Components/Content/Dialogs/Contact/Contact.jsx","Components/Content/Dialogs/Messages/Message/index.jsx","Components/Content/Dialogs/Messages/Message/Message.jsx","Components/Content/Dialogs/Messages/index.jsx","Components/Content/Dialogs/Messages/Messages.jsx","Components/Content/Dialogs/Dialogs.jsx","Components/Content/Dialogs/DialogsContainer.jsx"],"names":["module","exports","FormControl","input","meta","props","child","hasError","touched","error","className","style","formControl","children","Textarea","restProps","Input","createField","placeholder","name","validators","component","text","validate","required","value","undefined","maxlengthCreator","maxLength","length","minlengthCreator","minLength","mapStateToPropsFoRedirect","state","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","to","React","connect","Contact","block","iconbox","icon","src","avatar","noAvatar","alt","activity","id","activeClassName","activLink","Message","message","messege__text","Messages","MessageElement","messages","map","el","key","maxlength30","DialogReduxForm","reduxForm","form","useEffect","document","title","onClick","getDialogs","onSubmit","handleSubmit","Field","inputblock","type","sendbtn","Dialogs","messageData","Messedges","path","render","content","header","dialogs","dialog","values","sendMessage","newMessage","DialogsConteiner","compose","dialogsPage","newMessageText","dispatch","SendMessageCreator"],"mappings":"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","file":"static/js/5.ff947020.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/NA5.ea9d54e3.jpg\";","import React from 'react';\r\nimport style from './FormControls.module.css';\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nconst FormControl = ({input, meta, child, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return(\r\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            { hasError && <span>{meta.error}</span> }\r\n        </div>\r\n    )\r\n};\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n};\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder}\r\n               name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__3bFR-\",\"error\":\"FormControls_error__2NiQv\"};","export const required = (value) => {\r\n    return (value ? undefined : 'Field is required')\r\n};\r\nexport const maxlengthCreator = (maxLength) => (value) => {\r\n    if (!value) {value = ''}\r\n    return ( value.length < maxLength ? undefined : `Max length is ${maxLength}`)\r\n};\r\nexport const minlengthCreator = (minLength) => (value) => {\r\n    if (!value) {value = ''}\r\n    return ( value.length > minLength ? undefined : `Min length is ${minLength}`)\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport connect from \"react-redux/es/connect/connect\";\r\n\r\nlet mapStateToPropsFoRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    };\r\n};\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>;\r\n\r\n            return (<Component {...this.props}/>)\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthredirectComponent = connect(mapStateToPropsFoRedirect)(RedirectComponent);\r\n\r\n\r\n    return ConnectedAuthredirectComponent\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Dialogs_content__xFu-P\",\"header\":\"Dialogs_header__1RRoX\",\"dialogs\":\"Dialogs_dialogs__2JBzD\",\"dialog\":\"Dialogs_dialog__3sNho\",\"inputblock\":\"Dialogs_inputblock__1-M2G\",\"sendbtn\":\"Dialogs_sendbtn__1DF2Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Contact_block__3UuvW\",\"iconbox\":\"Contact_iconbox__1PHon\",\"icon\":\"Contact_icon__1wMUa\",\"activity\":\"Contact_activity__7xLcI\",\"activLink\":\"Contact_activLink__1O8nG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Message_block__3t1yG\",\"iconbox\":\"Message_iconbox__xLoGX\",\"icon\":\"Message_icon__2cxRU\",\"activity\":\"Message_activity__2VDoI\",\"message\":\"Message_message__cAwC2\",\"message__text\":\"Message_message__text__EktrW\"};","import Contact from './Contact'\r\nexport default Contact","import React, {Component} from 'react';\r\nimport style from './Contact.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport noAvatar from \"../../../../img/NA5.jpg\";\r\n\r\nexport default class Contact extends Component {\r\n    render() {\r\n\r\n        return (\r\n\r\n\r\n            <div className={style.block}>\r\n                <div className={style.iconbox}>\r\n                    <img className={style.icon} src={!this.props.avatar ? noAvatar : this.props.avatar} alt=\"\"/>\r\n                    <div className={style.activity}> </div>\r\n                </div>\r\n                <div className={style.name}>\r\n                    <NavLink to={\"/dialogs/\" + this.props.id + '/'}  activeClassName={style.activLink}>{this.props.name} </NavLink>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import Message from './Message'\r\nexport default Message","import React, {Component} from 'react';\r\nimport style from './Message.module.css';\r\nimport noAvatar from \"../../../../../img/NA5.jpg\";\r\n\r\n\r\nexport default class Message extends Component {\r\n    render() {\r\n\r\n        return (\r\n            <div className={style.block}>\r\n                <div className={style.iconbox}>\r\n                    <img className={style.icon} src={!this.props.avatar ? noAvatar : this.props.avatar} alt=\"\"/>\r\n                    <div className={style.activity}> </div>\r\n                </div>\r\n                <div className={style.message}>\r\n                    <p className={style.messege__text}>{this.props.text}</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import Messages from './Messages'\r\nexport default Messages","import React, {Component} from 'react';\r\n//import style from './Messages.module.css';\r\nimport Message from \"./Message\";\r\n\r\nexport default class Messages extends Component {\r\n\r\n    render() {\r\n\r\n        let MessageElement = this.props.messages.map((el)=> {\r\n            return(\r\n                <Message avatar={el.avatar} key={el.id} text={el.text} activity={el.activity}/>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className='Messages'>\r\n                {MessageElement}\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {useEffect} from 'react';\r\nimport style from './Dialogs.module.css';\r\nimport Contact from \"./Contact\";\r\nimport {Route} from 'react-router-dom';\r\nimport Messages from \"./Messages\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../Common/FormControls/FormControls\";\r\nimport {maxlengthCreator} from \"../../../Utils/Validators/Validators\";\r\nimport {getDialogs} from \"../../../Redux/DialogReducer\";\r\n\r\nconst maxlength30 = maxlengthCreator(30);\r\n\r\nconst DialogForm = (props) => {\r\n\r\n    useEffect(() => {\r\n        document.title = `Dialogs`;\r\n    });\r\n\r\n    let onGetDialogs = () => {\r\n        getDialogs();\r\n    };\r\n\r\n    return(\r\n        <>\r\n            <button\r\n                onClick={onGetDialogs()}\r\n            >\r\n                get Dialogs\r\n            </button>\r\n\r\n            <form onSubmit={props.handleSubmit}>\r\n                <Field\r\n                    className={style.inputblock}\r\n                    component={Input}\r\n                    validate={[maxlength30]}\r\n                    name='newMessage'\r\n                    placeholder='Write your message...'\r\n                    type='text'\r\n                />\r\n                <button className={style.sendbtn}\r\n                >\r\n                    Send message\r\n                </button>\r\n            </form>\r\n        </>\r\n    )\r\n};\r\n\r\nlet DialogReduxForm = reduxForm({form: 'newMessage'})(DialogForm);\r\n\r\n\r\nconst Dialogs = (props) => {\r\n        let Dialogs = props.messageData.map( (el)=>{\r\n            return(\r\n                <Contact name={el.name}  id={el.id} key={el.id}/>\r\n                )\r\n            }\r\n        );\r\n        let Messedges = props.messageData.map( (el)=>{\r\n                return(\r\n                    <Route path={'/dialogs/'+ el.id} key={el.id}\r\n                           render={() => <Messages messages={el.messages}/>}/>\r\n                )\r\n            }\r\n        );\r\n\r\n\r\n        const sendMessage = (values) => {\r\n            props.sendMessage(values.newMessage)\r\n        };\r\n\r\n        return (\r\n            <div className={style.content}>\r\n                <div className={style.header}><h5>Dialogs</h5></div>\r\n                <div className={style.dialogs}>\r\n                    {Dialogs}\r\n                </div>\r\n                <div className={style.dialog}>\r\n                    {Messedges}\r\n                    <div>\r\n                       <DialogReduxForm onSubmit={sendMessage}/>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n};\r\nexport default Dialogs;\r\n\r\n","import React from 'react';\r\nimport Dialogs from \"./Dialogs\";\r\nimport {SendMessageCreator} from \"../../../Redux/DialogReducer\";\r\nimport connect from \"react-redux/es/connect/connect\";\r\nimport {WithAuthRedirect} from \"../../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n class DialogsConteiner extends React.Component{\r\n\r\n     componentDidMount() {\r\n         /*тут будут запрос за историей диалогов*/\r\n     }\r\n\r\n     render(){\r\n\r\n         return(\r\n             <Dialogs {...this.props}/>\r\n         )\r\n     }\r\n }\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        messageData: state.dialogsPage.messageData,\r\n        newMessageText: state.dialogsPage.newMessageText,\r\n    };\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (text) => {\r\n            dispatch(SendMessageCreator(text));\r\n        },\r\n    };\r\n};\r\n\r\n/*let AuthredirectComponent = WithAuthRedirect(DialogsConteiner);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthredirectComponent);*/\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    WithAuthRedirect,\r\n)(DialogsConteiner);"],"sourceRoot":""}