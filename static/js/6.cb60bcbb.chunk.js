(window.webpackJsonpsocnet=window.webpackJsonpsocnet||[]).push([[6],{234:function(e,t,n){e.exports=n.p+"static/media/NA5.ea9d54e3.jpg"},237:function(e,t,n){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(i){r=!0,o=i}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return a}))},239:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(19),r=n(20),o=n(22),s=n(21),l=n(23),i=n(0),u=n.n(i),c=n(28),p=n(64),f=function(e){var t=function(t){function n(){return Object(a.a)(this,n),Object(o.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(l.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){return this.props.isAuth?u.a.createElement(e,this.props):u.a.createElement(c.a,{to:"/login"})}}]),n}(u.a.Component);return Object(p.a)((function(e){return{isAuth:e.auth.isAuth}}))(t)}},310:function(e,t,n){e.exports={userBlock:"Users_userBlock__35byo",avatarBlock:"Users_avatarBlock__2Bpba",avatar:"Users_avatar__3sQyl",followBtn:"Users_followBtn__H2X1d",infoBlock:"Users_infoBlock__lUMK7",name:"Users_name__Rcs94",status:"Users_status__1aS7d",location:"Users_location__2xfCv",pageBlock:"Users_pageBlock__3AHWR",pageIndex:"Users_pageIndex__2X_t2",pageIndex__selected:"Users_pageIndex__selected__2agT3"}},311:function(e,t,n){e.exports={prev:"Paginator_prev__Sgx9m",next:"Paginator_next__2qrkP",paginator:"Paginator_paginator___23Jo",items:"Paginator_items__2p3vR",pageNumber:"Paginator_pageNumber__2YFsp",selectedPage:"Paginator_selectedPage__JYjCo"}},312:function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)&&a.length){var s=r.apply(null,a);s&&e.push(s)}else if("object"===o)for(var l in a)n.call(a,l)&&a[l]&&e.push(l)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},313:function(e,t,n){e.exports=n.p+"static/media/loading.5ca0af28.svg"},317:function(e,t,n){"use strict";n.r(t);var a=n(19),r=n(20),o=n(22),s=n(21),l=n(23),i=n(33),u=n(81),c=n(0),p=n.n(c),f=n(237),g=n(310),m=n.n(g),h=n(15),d=n(234),v=n.n(d),_=n(26),w=n(311),b=n.n(w),E=n(312),y=n.n(E),U=(n(109),function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,o=e.portionSize,s=void 0===o?10:o,l=Math.ceil(t/n),i=[],u=1;u<=l;u++)i.push(u);var g=Math.ceil(l/s),m=Object(c.useState)(1),h=Object(f.a)(m,2),d=h[0],v=h[1],w=(d-1)*s+1,E=d*s;return p.a.createElement("div",{className:b.a.paginator},p.a.createElement("div",{className:b.a.prev},d>1?p.a.createElement("button",{className:b.a.active,onClick:function(){v(d-1)}}," ",p.a.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"}," ")):p.a.createElement("div",null,p.a.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"}," ")," ")),p.a.createElement("div",{className:b.a.items},i.filter((function(e){return e>=w&&e<=E})).map((function(e){return p.a.createElement("span",{className:y()(Object(_.a)({},b.a.selectedPage,a===e),b.a.pageNumber),key:e,onClick:function(t){r(e)}},e)}))),p.a.createElement("div",{className:b.a.next},g>d?p.a.createElement("button",{className:b.a.active,onClick:function(){v(d+1)}},p.a.createElement("i",{className:"fa fa-chevron-right","aria-hidden":"true"}," ")):p.a.createElement("div",null,p.a.createElement("i",{className:"fa fa-chevron-right","aria-hidden":"true"}," "))))}),P=n(313),j=n.n(P),k=function(e){var t=Object(c.useState)(e.followed),n=Object(f.a)(t,2),a=n[0],r=n[1],o=function(){a?e.unfollowUser(e.id):e.followUser(e.id),r(!a)};return p.a.createElement("div",{key:e.id,className:m.a.userBlock},p.a.createElement("div",{className:m.a.avatarBlock},p.a.createElement(h.b,{to:e.link},p.a.createElement("img",{className:m.a.avatar,src:null!=e.photo?e.photo:v.a,alt:""}))),p.a.createElement("button",{disabled:e.isFollowing.some((function(t){return t===e.id})),onClick:function(){o()}},p.a.createElement("div",null,e.isFollowing.some((function(t){return t===e.id}))?p.a.createElement("div",null,a?p.a.createElement("p",null,"Following"):p.a.createElement("p",null,"Unfollowing"),p.a.createElement("img",{src:j.a,alt:""})):p.a.createElement("div",null,a?p.a.createElement("p",null,"Unfollow"):p.a.createElement("p",null,"Follow")))),p.a.createElement("div",{className:m.a.name},e.name),p.a.createElement("div",{className:m.a.status},e.status))},C=function(e){var t=e.totalUserCount,n=(e.fixSrc,e.pages,e.pageSize),a=e.onPageChanged,r=e.users,o=e.currentPage,s=e.followUser,l=e.unfollowUser,i=(e.isFetching,e.isFollowing);return Object(c.useEffect)((function(){document.title="Users"})),p.a.createElement("div",null,p.a.createElement("div",{className:m.a.pageBlock},p.a.createElement(U,{currentPage:o,onPageChanged:a,totalItemsCount:t,pageSize:n})),p.a.createElement("div",null,r.map((function(e){return p.a.createElement(k,{key:e.id,id:e.id,photo:e.photos.small,link:"/profile/"+e.id,followed:e.followed,name:e.name,status:e.status,isFollowing:i,followUser:s,unfollowUser:l})}))))},O=n(30),N=n(28),S=n(239),x=n(25);function F(e,t){return e===t}function A(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var a=t.length,r=0;r<a;r++)if(!e(t[r],n[r]))return!1;return!0}function B(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var z=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(){for(var t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];var o=0,s=a.pop(),l=B(a),i=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(n)),u=e((function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return i.apply(null,e)}));return u.resultFunc=s,u.dependencies=l,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,n=null,a=null;return function(){return A(t,n,arguments)||(a=e.apply(null,arguments)),n=arguments,a}}));var I=function(e){return e.usersPage.users},M=z(I,(function(e){return e.filter((function(e){return!0}))})),J=function(e){return e.usersPage.pageSize},R=function(e){return e.usersPage.totalUserCount},T=function(e){return e.usersPage.currentPage},H=function(e){return e.usersPage.isFetching},X=function(e){return e.usersPage.isFollowing},Y=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).onPageChanged=function(e){n.props.getUsers(e,n.props.pageSize),n.props.changePage(e)},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.curentPage,this.props.pageSize)}},{key:"render",value:function(){var e=Math.ceil(this.props.totalUserCount/this.props.pageSize),t=[],n=1e3;e<n&&(n=e);for(var a=1;a<=n;a++)t.push(a);return this.props.isAuth?p.a.createElement(p.a.Fragment,null,this.props.isFetching?p.a.createElement(O.a,null):p.a.createElement(C,{totalUserCount:this.props.totalUserCount,fixSrc:"https://w-dog.ru/wallpapers/4/17/444538780016755.jpg",pages:t,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,users:this.props.users,currentPage:this.props.currentPage,followUser:this.props.followUser,unfollowUser:this.props.unfollowUser,isFetching:this.props.isFetching,isFollowing:this.props.isFollowing})):p.a.createElement(N.a,{to:"/login"})}}]),t}(p.a.Component);t.default=Object(x.d)(Object(i.b)((function(e){return{users:M(e),pageSize:J(e),totalUserCount:R(e),currentPage:T(e),isFetching:H(e),isFollowing:X(e),isAuth:e.auth.isAuth}}),{followUser:u.b,setUsers:u.e,changePage:u.a,setTotalUserCount:u.d,getUsers:u.c,unfollowUser:u.f}),S.a)(Y)}}]);
//# sourceMappingURL=6.cb60bcbb.chunk.js.map