(window.webpackJsonpsocnet=window.webpackJsonpsocnet||[]).push([[6],{233:function(e,t,n){e.exports=n.p+"static/media/NA5.ea9d54e3.jpg"},236:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(i){a=!0,o=i}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return r}))},238:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(21),a=n(22),o=n(24),s=n(23),l=n(25),i=n(0),u=n.n(i),c=n(30),p=n(64),f=function(e){return{isAuth:e.auth.isAuth}},g=function(e){var t=function(t){function n(){return Object(r.a)(this,n),Object(o.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(l.a)(n,t),Object(a.a)(n,[{key:"render",value:function(){return this.props.isAuth?u.a.createElement(e,this.props):u.a.createElement(c.a,{to:"/login"})}}]),n}(u.a.Component);return Object(p.a)(f)(t)}},309:function(e,t,n){e.exports={userBlock:"Users_userBlock__35byo",avatarBlock:"Users_avatarBlock__2Bpba",avatar:"Users_avatar__3sQyl",followBtn:"Users_followBtn__H2X1d",infoBlock:"Users_infoBlock__lUMK7",name:"Users_name__Rcs94",status:"Users_status__1aS7d",location:"Users_location__2xfCv",pageBlock:"Users_pageBlock__3AHWR",pageIndex:"Users_pageIndex__2X_t2",pageIndex__selected:"Users_pageIndex__selected__2agT3"}},310:function(e,t,n){e.exports={prev:"Paginator_prev__Sgx9m",next:"Paginator_next__2qrkP",paginator:"Paginator_paginator___23Jo",items:"Paginator_items__2p3vR",pageNumber:"Paginator_pageNumber__2YFsp",selectedPage:"Paginator_selectedPage__JYjCo"}},311:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var s=a.apply(null,r);s&&e.push(s)}else if("object"===o)for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},312:function(e,t,n){e.exports=n.p+"static/media/loading.5ca0af28.svg"},316:function(e,t,n){"use strict";n.r(t);var r=n(21),a=n(22),o=n(24),s=n(23),l=n(25),i=n(34),u=n(81),c=n(0),p=n.n(c),f=n(236),g=n(309),m=n.n(g),h=n(8),d=n(233),v=n.n(d),_=n(28),w=n(310),b=n.n(w),U=n(311),y=n.n(U),P=function(e){var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,a=e.onPageChanged,o=e.portionSize,s=void 0===o?10:o;console.log({totalItemsCount:t,pageSize:n,currentPage:r,onPageChanged:a,portionSize:s});for(var l=Math.ceil(t/n),i=[],u=1;u<=l;u++)i.push(u);var g=Math.ceil(l/s),m=Object(c.useState)(1),h=Object(f.a)(m,2),d=h[0],v=h[1],w=(d-1)*s+1,U=d*s;return p.a.createElement("div",{className:b.a.paginator},p.a.createElement("div",{className:b.a.prev},d>1?p.a.createElement("button",{className:b.a.active,onClick:function(){v(d-1)}},"P"):p.a.createElement("div",null,"P")),p.a.createElement("div",{className:b.a.items},i.filter((function(e){return e>=w&&e<=U})).map((function(e){return p.a.createElement("span",{className:y()(Object(_.a)({},b.a.selectedPage,r===e),b.a.pageNumber),key:e,onClick:function(t){a(e)}},e)}))),p.a.createElement("div",{className:b.a.next},g>d?p.a.createElement("button",{className:b.a.active,onClick:function(){v(d+1)}},"N"):p.a.createElement("div",null,"N")))},E=n(312),j=n.n(E),C=function(e){var t=Object(c.useState)(e.followed),n=Object(f.a)(t,2),r=n[0],a=n[1],o=function(){r?e.unfollowUser(e.id):e.followUser(e.id),a(!r)};return p.a.createElement("div",{key:e.id,className:m.a.userBlock},p.a.createElement("div",{className:m.a.avatarBlock},p.a.createElement(h.b,{to:e.link},p.a.createElement("img",{className:m.a.avatar,src:null!=e.photo?e.photo:v.a,alt:""}))),p.a.createElement("button",{disabled:e.isFollowing.some((function(t){return t===e.id})),onClick:function(){o()}},p.a.createElement("div",null,e.isFollowing.some((function(t){return t===e.id}))?p.a.createElement("div",null,r?p.a.createElement("p",null,"Following"):p.a.createElement("p",null,"Unfollowing"),p.a.createElement("img",{src:j.a,alt:""})):p.a.createElement("div",null,r?p.a.createElement("p",null,"Unfollow"):p.a.createElement("p",null,"Follow")))),p.a.createElement("div",{className:m.a.name},e.name),p.a.createElement("div",{className:m.a.status},e.status))},S=function(e){var t=e.totalUserCount,n=e.fixSrc,r=e.pages,a=e.pageSize,o=e.onPageChanged,s=e.users,l=e.currentPage,i=e.followUser,u=e.unfollowUser,f=e.isFetching,g=e.isFollowing;return console.log({totalUserCount:t,fixSrc:n,pages:r,pageSize:a,onPageChanged:o,users:s,currentPage:l,followUser:i,unfollowUser:u,isFetching:f,isFollowing:g}),Object(c.useEffect)((function(){document.title="Users"})),p.a.createElement("div",null,p.a.createElement("div",{className:m.a.pageBlock},p.a.createElement(P,{currentPage:l,onPageChanged:o,totalItemsCount:t,pageSize:a})),p.a.createElement("div",null,s.map((function(e){return p.a.createElement(C,{key:e.id,id:e.id,photo:e.photos.small,link:"/profile/"+e.id,followed:e.followed,name:e.name,status:e.status,isFollowing:g,followUser:i,unfollowUser:u})}))))},k=n(16),O=n(30),x=n(238),F=n(27);function N(e,t){return e===t}function A(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}function z(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var B=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=0,s=r.pop(),l=z(r),i=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(n)),u=e((function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return i.apply(null,e)}));return u.resultFunc=s,u.dependencies=l,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,n=null,r=null;return function(){return A(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));var I=function(e){return e.usersPage.users},M=B(I,(function(e){return console.log("getUsersSuper active"),e.filter((function(e){return!0}))})),J=function(e){return e.usersPage.pageSize},R=function(e){return e.usersPage.totalUserCount},T=function(e){return e.usersPage.currentPage},H=function(e){return e.usersPage.isFetching},X=function(e){return e.usersPage.isFollowing},Y=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).onPageChanged=function(e){n.props.getUsers(e,n.props.pageSize),n.props.changePage(e)},n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.curentPage,this.props.pageSize)}},{key:"render",value:function(){var e=Math.ceil(this.props.totalUserCount/this.props.pageSize),t=[],n=1e3;e<n&&(n=e);for(var r=1;r<=n;r++)t.push(r);return this.props.isAuth?(console.log(this.props.pageSize),p.a.createElement(p.a.Fragment,null,this.props.isFetching?p.a.createElement(k.a,null):p.a.createElement(S,{totalUserCount:this.props.totalUserCount,fixSrc:"https://w-dog.ru/wallpapers/4/17/444538780016755.jpg",pages:t,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,users:this.props.users,currentPage:this.props.currentPage,followUser:this.props.followUser,unfollowUser:this.props.unfollowUser,isFetching:this.props.isFetching,isFollowing:this.props.isFollowing}))):p.a.createElement(O.a,{to:"/login"})}}]),t}(p.a.Component);t.default=Object(F.d)(Object(i.b)((function(e){return{users:M(e),pageSize:J(e),totalUserCount:R(e),currentPage:T(e),isFetching:H(e),isFollowing:X(e),isAuth:e.auth.isAuth}}),{followUser:u.b,setUsers:u.e,changePage:u.a,setTotalUserCount:u.d,getUsers:u.c,unfollowUser:u.f}),x.a)(Y)}}]);
//# sourceMappingURL=6.63bfaea3.chunk.js.map